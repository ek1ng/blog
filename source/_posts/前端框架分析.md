---
title: 前端框架分析
date: 2021-10-09 19:55:00
updated: 2021-10-09 19:55:00
tags: [front-end,Vue,Svelte]
top_img: img/Vue_Svelte.jpg
cover: img/Vue_Svelte.jpg
---

# Why Svelte？对比Svelte与主流前端框架

​		前端领域是发展迅速，各种轮子层出不穷的行业。最近这些年，随着三大框架`React`、`Vue`、`Angular`版本逐渐稳定，前端技术栈的迭代貌似逐渐缓慢下来，如果将目光放得更加长远来关注谁未来更有可能成为主流技术栈，也许会是新兴的重编译框架Svelte，我希望写一写在我初步了解Svelte后，以Svelte对比主流的前端框架，看一看Svelte产生的背景以及与其他框架对比Svelte的优劣情况。

## Svelte的设计理念

​		`Svelte`作者是 Rich Harris，同时也是 Rollup 的作者。他设计 Svelte 的核心『**通过静态编译减少框架运行时的代码量**』，也就是说Vue 和 react 这类传统的框架，都必须引入运行时 (runtime) 代码，用于虚拟dom、diff 算法。而Svelte直接编译生成DOM,理论上性能和手写原生js相同。Svelte应用所有需要的运行时代码都包含在`bundle.js`里面了，除了引入这个组件本身，你不需要再额外引入一个运行代码。因此Svelte具有体积小、运行速度快等特点。

## Svelte的优势

### 体积小（no runtime）

​		当前的框架无论是 React Angular 还是 Vue，不管你怎么编译，使用的时候必然需要『引入』框架本身，也就是所谓的运行时 (runtime)。，当用户在你的页面进行各种操作改变组件的状态时，框架的运行时会根据新的组件状态计算出哪些DOM节点需要被更新，从而更新视图。这就意味着，框架本身所依赖的代码也会被打包到最终的构建产物中,因此Vue和React等框架打包后的体积相较于Svelte会相对更大。

​		但是用 Svelte 就不一样，一个 Svelte 组件编译了以后，所有需要的运行时代码都包含在里面了，除了引入这个组件本身，你不需要再额外引入一个所谓的框架运行时。

​		下面是`Jacek Schae`的统计，使用市面上主流的框架，来编写同样的Realword 应用的体积：

![svelte bundle size](https://miro.medium.com/max/2000/1*6HK361f-UDqNpWuTA68jHw.png)



### 代码量小

举个例子，`Svelte`中，可以直接使用赋值操作符更新状态，而在`React`中，我们要么使用`useState`钩子，要么使用`setState`设置状态。在此前写Todolist中也我也发现Svelte不需要依赖模板文件，这不仅对代码量来说是减轻对于开发者来说学习成本同样也降低了。

下面是`Jacek Schae`的统计，使用市面上主流的框架，来编写同样的Realword 应用的行数，可以看出Vue和React在代码量上基本齐头并进而Svelte明显要少很多。



![sveltelesscode](https://miro.medium.com/max/2000/1*X6JjPo0y6L02KB7F0RvVlg.png)

### 不错的运行速度

前端框架性能对比，结果中**Svelte 略逊于Vue, 但好于 React。**

![sveltespeed](https://miro.medium.com/max/2000/1*-adYkKBH0YgvRYPp2gbs5Q.png)

## Svelte尚未成熟

​		虽然Svelte具有上述诸多优势，但在开发大型项目时，Svelte没有像AntDesign、ElementUI这样成熟的UI库，原生脚手架没有目录划分，原生不支持预处理器等等，以及于**大型项目必要的单元测试并没有完整的方案**等一系列问题都让目前开发者难以使用Svelte来开发大型项目。

## 如何选型实践

​		Svelte 是否适合在大型项目中应用，还有待观察。虽然核心思想是不需要 “运行时”，但是项目组件越多，运行时的代码量也就越多，且组件间的代码重复率也就越高，除此之外，现阶段的生态确实处于尚未成熟。但是一来作为尚在学校的学生目前接手的项目并不算大型，二来Svelte的优势也确实让人值得相信，或许几年后在诸多开发者的支持下随着Svelte的生态逐步完善，大型项目开发者也会逐渐使用Svelte。

